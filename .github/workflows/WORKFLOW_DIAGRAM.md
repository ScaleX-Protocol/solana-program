# OpenBook CI/CD Workflow Diagram

## ðŸ“Š Complete Deployment Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DEVELOPMENT FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Developer
     â”‚
     â”œâ”€â”€â”€ Create Feature Branch (feature/*)
     â”‚         â”‚
     â”‚         â”œâ”€â”€â”€ Make Changes
     â”‚         â”‚
     â”‚         â”œâ”€â”€â”€ Push to GitHub
     â”‚         â”‚
     â”‚         â””â”€â”€â”€ Create Pull Request
     â”‚                   â”‚
     â”‚                   â–¼
     â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         â”‚   CI Tests Workflow â”‚ â—„â”€â”€ Runs Automatically
     â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚
     â”‚                   â”œâ”€â”€â”€ Lint Rust
     â”‚                   â”œâ”€â”€â”€ Test Rust
     â”‚                   â”œâ”€â”€â”€ Build Rust
     â”‚                   â”œâ”€â”€â”€ Lint TypeScript
     â”‚                   â”œâ”€â”€â”€ Test TypeScript
     â”‚                   â”œâ”€â”€â”€ Security Audit
     â”‚                   â””â”€â”€â”€ Integration Tests
     â”‚                           â”‚
     â”‚                           â”œâ”€â”€ âœ… All Pass â†’ Ready to Merge
     â”‚                           â””â”€â”€ âŒ Any Fail â†’ Fix Required
     â”‚
     â””â”€â”€â”€ Merge to Main
               â”‚
               â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Local Deployment Workflow  â”‚ â—„â”€â”€ Runs on Push to Main/Develop
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€ Stop Existing Validator
               â”œâ”€â”€â”€ Download Pre-built Programs
               â”œâ”€â”€â”€ Start Local Validator
               â”œâ”€â”€â”€ Deploy Markets
               â”œâ”€â”€â”€ Run Integration Tests
               â””â”€â”€â”€ Keep Validator Running
                       â”‚
                       â””â”€â”€ âœ… Local Environment Ready


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DEVNET DEPLOYMENT                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Developer
     â”‚
     â”œâ”€â”€â”€ Create Devnet Branch
     â”‚         â”‚
     â”‚         â””â”€â”€â”€ git checkout -b devnet-deployment
     â”‚                   â”‚
     â”‚                   â””â”€â”€â”€ git push origin devnet-deployment
     â”‚                             â”‚
     â”‚                             â–¼
     â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚               â”‚ Devnet Deployment        â”‚ â—„â”€â”€ Automatic Trigger
     â”‚               â”‚ Workflow                 â”‚
     â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Setup Environment
     â”‚                             â”‚    â”œâ”€â”€â”€ Rust 1.79.0
     â”‚                             â”‚    â”œâ”€â”€â”€ Solana CLI 1.18.23
     â”‚                             â”‚    â””â”€â”€â”€ Anchor 0.28.0
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Configure Wallet
     â”‚                             â”‚    â”œâ”€â”€â”€ Use SOLANA_DEPLOYER_PRIVATE_KEY
     â”‚                             â”‚    â”œâ”€â”€â”€ Check Balance
     â”‚                             â”‚    â””â”€â”€â”€ Request Airdrop if Needed
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Get Programs
     â”‚                             â”‚    â”œâ”€â”€â”€ Option A: Download Pre-built
     â”‚                             â”‚    â””â”€â”€â”€ Option B: Build from Source
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Deploy to Devnet
     â”‚                             â”‚    â”œâ”€â”€â”€ Deploy OpenBook Program
     â”‚                             â”‚    â”œâ”€â”€â”€ Deploy Markets
     â”‚                             â”‚    â””â”€â”€â”€ Create Tokens
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Verify Deployment
     â”‚                             â”‚    â”œâ”€â”€â”€ Check Program Status
     â”‚                             â”‚    â”œâ”€â”€â”€ View Markets
     â”‚                             â”‚    â””â”€â”€â”€ Run Tests
     â”‚                             â”‚
     â”‚                             â””â”€â”€â”€ Generate Summary
     â”‚                                  â””â”€â”€â”€ DEVNET_DEPLOYMENT_*.md
     â”‚
     â””â”€â”€â”€ âœ… Devnet Ready for Testing


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MAINNET DEPLOYMENT                               â”‚
â”‚                      (Manual, Protected, Audited)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Developer/DevOps Team
     â”‚
     â”œâ”€â”€â”€ Complete Pre-Deployment Checklist
     â”‚         â”‚
     â”‚         â”œâ”€â”€â”€ âœ… All tests passing
     â”‚         â”œâ”€â”€â”€ âœ… Security audit completed
     â”‚         â”œâ”€â”€â”€ âœ… Team approval received
     â”‚         â”œâ”€â”€â”€ âœ… Rollback plan ready
     â”‚         â”œâ”€â”€â”€ âœ… Monitoring configured
     â”‚         â””â”€â”€â”€ âœ… Sufficient SOL balance (>10 SOL)
     â”‚                   â”‚
     â”‚                   â”œâ”€â”€â”€ Build Verifiable Program
     â”‚                   â”‚         â”‚
     â”‚                   â”‚         â””â”€â”€â”€ anchor build --verifiable
     â”‚                   â”‚
     â”‚                   â”œâ”€â”€â”€ Create Program Buffer
     â”‚                   â”‚         â”‚
     â”‚                   â”‚         â””â”€â”€â”€ solana program write-buffer
     â”‚                   â”‚
     â”‚                   â””â”€â”€â”€ Get Buffer Address
     â”‚                             â”‚
     â”‚                             â–¼
     â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚               â”‚    GitHub Actions UI         â”‚
     â”‚               â”‚  Mainnet Deployment Workflow â”‚
     â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Manual Trigger Required
     â”‚                             â”‚    â”œâ”€â”€â”€ Enter: "DEPLOY_TO_MAINNET"
     â”‚                             â”‚    â”œâ”€â”€â”€ Enter: Program Buffer Address
     â”‚                             â”‚    â””â”€â”€â”€ Enter: Upgrade Authority (opt)
     â”‚                             â”‚
     â”‚                             â–¼
     â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚               â”‚   Pre-Flight Checks          â”‚
     â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Verify Confirmation
     â”‚                             â”œâ”€â”€â”€ Check Secrets
     â”‚                             â””â”€â”€â”€ Security Audit
     â”‚                                   â”‚
     â”‚                                   â–¼
     â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚               â”‚   GitHub Environment         â”‚
     â”‚               â”‚   Protection: "mainnet"      â”‚
     â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Required Reviewers Approve
     â”‚                             â”œâ”€â”€â”€ Wait Timer (5 min)
     â”‚                             â””â”€â”€â”€ Branch Protection Check
     â”‚                                   â”‚
     â”‚                                   â–¼
     â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚               â”‚   Mainnet Deployment         â”‚
     â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚                             â”œâ”€â”€â”€ Setup Environment
     â”‚                             â”œâ”€â”€â”€ Build from Source
     â”‚                             â”œâ”€â”€â”€ Run Security Audit
     â”‚                             â”œâ”€â”€â”€ Deploy to Mainnet
     â”‚                             â”œâ”€â”€â”€ Verify Deployment
     â”‚                             â””â”€â”€â”€ Generate Record
     â”‚                                  â””â”€â”€â”€ MAINNET_DEPLOYMENT_*.md
     â”‚
     â”œâ”€â”€â”€ Monitor for 24 Hours
     â”‚         â”‚
     â”‚         â”œâ”€â”€â”€ Check Program Performance
     â”‚         â”œâ”€â”€â”€ Run Smoke Tests
     â”‚         â””â”€â”€â”€ Monitor Logs
     â”‚
     â””â”€â”€â”€ âœ… Production Release Complete


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CI WORKFLOW DETAILS                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Pull Request Created
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lint Checks    â”‚â”€â”€â”€â”€â–¶â”‚  Unit Tests     â”‚â”€â”€â”€â”€â–¶â”‚  Build Process  â”‚
â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚
â”‚ â€¢ Rust Format   â”‚     â”‚ â€¢ Rust Tests    â”‚     â”‚ â€¢ Cargo Build   â”‚
â”‚ â€¢ Clippy        â”‚     â”‚ â€¢ Doc Tests     â”‚     â”‚ â€¢ Anchor Build  â”‚
â”‚ â€¢ TS Type Check â”‚     â”‚ â€¢ TS Tests      â”‚     â”‚ â€¢ Verify Output â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Security Audit  â”‚â”€â”€â”€â”€â–¶â”‚ Integration     â”‚â”€â”€â”€â”€â–¶â”‚  CI Summary     â”‚
â”‚                 â”‚     â”‚ Tests           â”‚     â”‚                 â”‚
â”‚ â€¢ Cargo Audit   â”‚     â”‚ â€¢ Local Deploy  â”‚     â”‚ âœ… All Pass     â”‚
â”‚ â€¢ NPM Audit     â”‚     â”‚ â€¢ Market Deploy â”‚     â”‚ âŒ Any Fail     â”‚
â”‚ â€¢ Vuln Scan     â”‚     â”‚ â€¢ Order Tests   â”‚     â”‚ ðŸ“Š Report       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DEPLOYMENT DECISION TREE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         Need to Deploy?
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
              Quick Test?          Production?
                    â”‚                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”          â”‚
            â”‚               â”‚          â”‚
      Local Dev         Devnet         â”‚
            â”‚               â”‚          â”‚
            â–¼               â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  LOCAL   â”‚    â”‚  DEVNET  â”‚  â”‚ MAINNET  â”‚
    â”‚          â”‚    â”‚          â”‚  â”‚          â”‚
    â”‚ â€¢ Fast   â”‚    â”‚ â€¢ Public â”‚  â”‚ â€¢ Manual â”‚
    â”‚ â€¢ Free   â”‚    â”‚ â€¢ Testnetâ”‚  â”‚ â€¢ Audit  â”‚
    â”‚ â€¢ Iterateâ”‚    â”‚ â€¢ Shared â”‚  â”‚ â€¢ Review â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ROLLBACK PROCEDURE                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Issue Detected in Production
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Assess Severity   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
      â”‚               â”‚
  Critical?       Minor?
      â”‚               â”‚
      â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IMMEDIATE   â”‚  â”‚ SCHEDULED   â”‚
â”‚ ROLLBACK    â”‚  â”‚ FIX         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€ Get Previous Program Buffer
      â”‚         â”‚
      â”‚         â””â”€â”€â”€ solana program show --buffers
      â”‚
      â”œâ”€â”€â”€ Deploy Previous Version
      â”‚         â”‚
      â”‚         â””â”€â”€â”€ solana program deploy --buffer
      â”‚
      â”œâ”€â”€â”€ Verify Rollback
      â”‚         â”‚
      â”‚         â””â”€â”€â”€ solana program show PROGRAM_ID
      â”‚
      â””â”€â”€â”€ Monitor Recovery
                â”‚
                â””â”€â”€â”€ Check metrics, logs, user reports


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       MONITORING & ALERTS                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                      Production Deployment
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚             â”‚             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Program    â”‚ â”‚ Transactionâ”‚ â”‚ Performanceâ”‚
         â”‚ Status     â”‚ â”‚ Monitoring â”‚ â”‚ Metrics    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚             â”‚             â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ Alert System â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         â”‚         â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Slack   â”‚ â”‚ Email   â”‚ â”‚ PagerDutyâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸŽ¯ Key Principles

### 1. **Automated Testing First**
- All code goes through CI tests
- No manual deployments without tests
- Integration tests verify functionality

### 2. **Progressive Deployment**
- Local â†’ Devnet â†’ Mainnet
- Each stage validates the next
- Rollback plan at every stage

### 3. **Security by Default**
- Mandatory security audits
- Protected mainnet environment
- Required approvals for production

### 4. **Observability**
- Deployment records generated
- Monitoring from day one
- Alert on anomalies

### 5. **Developer Experience**
- Simple commands for common tasks
- Clear documentation
- Fast feedback loops

## ðŸ“ˆ Metrics

### Build Times
- **Rust Build**: ~5-10 minutes
- **TypeScript Compile**: ~1-2 minutes
- **Integration Tests**: ~5-7 minutes
- **Total CI Time**: ~15-20 minutes

### Deployment Times
- **Local**: ~2-3 minutes
- **Devnet**: ~5-8 minutes
- **Mainnet**: ~10-15 minutes

### Success Rates
- **Target CI Pass Rate**: >95%
- **Target Deployment Success**: >99%
- **Target Rollback Time**: <5 minutes

## ðŸ”’ Security Gates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Security Checkpoints            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Code Review Required (PR)            â”‚
â”‚ 2. CI Tests Must Pass                   â”‚
â”‚ 3. Security Audit (cargo audit)         â”‚
â”‚ 4. Clippy Checks (no warnings)          â”‚
â”‚ 5. Manual Approval (Mainnet)            â”‚
â”‚ 6. Environment Protection (Mainnet)     â”‚
â”‚ 7. Confirmation String Required         â”‚
â”‚ 8. Wait Timer (5 min review period)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“š Related Documentation

- [Complete Workflow Guide](./README.md)
- [Quick Start Guide](./QUICK_START.md)
- [OpenBook Documentation](../../docs/)
- [Solana Program Deployment](https://docs.solana.com/cli/deploy-a-program)

---

**Last Updated:** 2026-02-13
**Maintained By:** DevOps Team
